/* MyDayHub Beta 5 - Tasks View Specific Styles */

/* ==========================================================================
   1. TASK BOARD LAYOUT
   ========================================================================== */

#task-board-container {
	display: flex;
	gap: 1rem;
	align-items: flex-start; /* Align columns to the top */
	overflow-x: auto; /* Allow horizontal scrolling */
	height: 100%;
}

/* ==========================================================================
   2. COLUMN STYLES
   ========================================================================== */

.task-column {
	background-color: var(--toolbar-bg);
	border: 1px solid var(--border-color);
	border-radius: 8px;
	width: 320px;
	flex-shrink: 0; /* Prevent columns from shrinking */
	display: flex;
	flex-direction: column;
	max-height: 100%;
}

.column-header {
	display: flex;
	/* justify-content: space-between; <-- This is now handled by flex-grow on the title */
	align-items: center;
	padding: 0.75rem 1rem;
	border-bottom: 1px solid var(--border-color);
	gap: 0.5rem; /* Add gap for spacing between elements */
}

.column-title {
	font-size: 1.1rem;
	font-weight: 500;
	margin: 0;
	flex-grow: 1; /* Allows title to push count to the right */
}

/* Added for column delete UI */
.btn-delete-column {
	background: transparent;
	border: none;
	padding: 2px;
	cursor: pointer;
	line-height: 0; /* Prevents extra button height */
	opacity: 0; /* Hidden by default */
	pointer-events: none;
	transition: opacity 0.2s ease-in-out;
}

/* Show button when hovering over the header */
.column-header:hover .btn-delete-column {
	opacity: 1;
	pointer-events: auto;
}

.btn-delete-column svg {
	stroke: var(--text-secondary);
	transition: stroke 0.2s ease-in-out;
}

.btn-delete-column:hover svg {
	stroke: #e57373; /* A soft red for hover */
}


.task-count {
	font-size: 0.9rem;
	color: var(--text-secondary);
	background-color: var(--bg-color);
	padding: 2px 8px;
	border-radius: 10px;
}

.column-body {
	padding: 0.5rem;
	overflow-y: auto;
	flex-grow: 1;
}

.column-footer {
	padding: 0.5rem;
	border-top: 1px solid var(--border-color);
}

.column-footer input {
	width: 100%;
	background-color: transparent;
	border: none;
	color: var(--text-secondary);
	padding: 0.5rem;
	border-radius: 4px;
	box-sizing: border-box;
}

.column-footer input:focus {
	outline: none;
	background-color: var(--bg-color);
}

.no-tasks-message {
	padding: 1rem;
	color: var(--text-secondary);
	font-size: 0.9rem;
}


/* ==========================================================================
   3. TASK CARD STYLES
   ========================================================================== */

/* Modified for improved UI */
.task-card {
	display: flex;
	align-items: stretch; /* Allows status band to stretch vertically */
	background-color: var(--bg-color);
	border: 1px solid var(--border-color);
	padding: 0.75rem;
	border-radius: 6px;
	margin-bottom: 0.5rem;
}

/* Modified for improved UI */
.task-status-band {
	width: 12px; /* Increased width for better clickability */
	/* Removed fixed height to allow stretching */
	background-color: var(--accent-color); /* Default color */
	border-radius: 4px;
	margin-right: 0.75rem;
	cursor: pointer; /* Indicates the band is clickable */
	transition: background-color 0.2s ease-in-out, background 0.2s ease-in-out; /* Smooth color change */
}

.task-checkbox {
	margin-right: 0.75rem;
	align-self: center; /* Vertically center the checkbox */
}

/* Added for Task Classification */
/* Colors for each classification state */
.task-card.classification-signal .task-status-band {
	background-color: #28a745; /* Green */
}

/* Modified for accessibility */
.task-card.classification-support .task-status-band {
	/* A repeating gradient creates a subtle diagonal stripe pattern */
	background: repeating-linear-gradient(
		45deg,
		#007bff,
		#007bff 3px,
		rgba(0, 0, 0, 0.2) 3px, /* Darker, transparent stripe for texture */
		rgba(0, 0, 0, 0.2) 4px
	);
}

.task-card.classification-noise .task-status-band {
	background-color: #fd7e14; /* Orange */
}


/* Styles for completed tasks */
.task-card.completed {
	opacity: 0.6;
}

.task-card.completed .task-title {
	text-decoration: line-through;
	color: var(--text-secondary);
}

.task-card.completed .task-status-band {
	background-color: var(--text-secondary); /* Gray */
}

/* Styling for the task card being dragged */
.task-card.dragging {
	opacity: 0.5;
	transform: rotate(2deg);
}

/* ==========================================================================
   4. HEADER CONTROLS
   ========================================================================== */

/* Styling for the inline 'Add Column' form */
#form-add-column {
	display: inline-block;
}

#input-new-column-name {
	padding: 0.5rem 1rem;
	border: 1px solid var(--accent-color);
	background-color: var(--bg-color);
	color: var(--text-primary);
	border-radius: 6px;
	font-size: 1rem;
}

#input-new-column-name:focus {
	outline: none;
}

/* Styling for the header button */
.btn-header {
	background: none;
	border: 1px solid transparent;
	color: var(--text-secondary);
	padding: 0.5rem 1rem;
	font-size: 1rem;
	cursor: pointer;
	border-radius: 6px;
}

.btn-header:hover {
	background-color: var(--btn-hover-bg);
	color: var(--text-primary);
}


/* ==========================================================================
   5. RESPONSIVE & MOBILE STYLES
   ========================================================================== */

@media (max-width: 768px) {
	#task-board-container {
		flex-direction: column; /* Stack columns vertically */
		overflow-x: hidden; /* Hide horizontal scrollbar */
		gap: 1.5rem; /* Space between vertical columns */
	}

	.task-column {
		width: 100%; /* Make columns take up the full width */
	}
}